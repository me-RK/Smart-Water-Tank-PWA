import{j as e,g as t,u as s}from"./index-1rMrzTej.js";import{r as a,u as r}from"./vendor-Dw3b2ko0.js";import{u as n,T as l,P as d}from"./PWAInstallButton-B3-IcgR5.js";import{W as o,g as i,d as c,i as x,Z as m,C as u,D as g,a as h,T as b,L as y,R as j}from"./icons-DUa41JBP.js";const N=({connected:s,lastUpdated:a,runtime:r,motorStatus:n,motor1Status:l,motor2Status:d,motor1Enabled:g,motor2Enabled:h,motorConfig:b,mode:y,autoModeReasons:j,autoModeReasonMotor1:N,autoModeReasonMotor2:p,className:v=""})=>{const f=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),a=e%60;return t>0?`${t}h ${s}m`:s>0?`${s}m ${a}s`:`${a}s`};return e.jsxs("div",{className:`\n      bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700\n      p-4 transition-all duration-300\n      ${v}\n    `,children:[e.jsx("div",{className:"mb-4",children:e.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:"System Status"})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s?e.jsx(o,{className:"w-4 h-4 text-green-500 transition-all duration-300 hover:scale-110 hover:rotate-12"}):e.jsx(i,{className:"w-4 h-4 text-red-500 transition-all duration-300 hover:scale-110 hover:rotate-12"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"Connection"}),e.jsx("p",{className:"text-sm font-semibold truncate "+(s?"text-green-600":"text-red-600"),children:s?"Online":"Offline"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{className:"w-4 h-4 text-indigo-500 transition-all duration-300 hover:scale-110 hover:rotate-12"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"Mode"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 capitalize truncate",children:y})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-4 h-4 transition-all duration-300 hover:scale-110 hover:rotate-12 "+(r>600?"text-red-500":r>300?"text-yellow-500":"text-green-500")}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"Last Data"}),e.jsx("p",{className:"text-sm font-semibold truncate "+(r>600?"text-red-600":r>300?"text-yellow-600":"text-green-600"),children:r>0?f(r):"Never"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-4 h-4 text-purple-500 transition-all duration-300 hover:scale-110 hover:rotate-12"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:"Updated"}),e.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 truncate",children:(k=a,new Date(k).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})]})]})]}),void 0!==l&&void 0!==d?e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"w-4 h-4 text-yellow-500 transition-all duration-300 hover:scale-110 hover:rotate-12"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Motors"})]}),b&&e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:t(b)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full "+("ON"===l?"bg-green-500":"bg-gray-400")}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Motor 1 ",!g&&"(Disabled)"]}),e.jsx("p",{className:"text-sm font-semibold "+("ON"===l?"text-green-600":"text-gray-600"),children:l})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full "+("ON"===d?"bg-green-500":"bg-gray-400")}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Motor 2 ",!h&&"(Disabled)"]}),e.jsx("p",{className:"text-sm font-semibold "+("ON"===d?"text-green-600":"text-gray-600"),children:d})]})]})]})]}):e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"w-4 h-4 "+("ON"===n?"text-green-500":"text-gray-400")}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Motor Status"}),e.jsx("p",{className:"text-sm font-semibold "+("ON"===n?"text-green-600":"text-gray-600"),children:n})]})]})}),r>600&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-2 mb-3",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(u,{className:"w-3 h-3 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-red-800 dark:text-red-200 mb-1",children:"Transmitter Warning:"}),e.jsx("p",{className:"text-xs text-red-700 dark:text-red-300",children:r>900?`No data from upper tank sensors for ${f(r)} - Check transmitter!`:`No data from upper tank sensors for ${f(r)} - Monitor closely!`})]})]})}),"auto"===y&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-2",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(u,{className:"w-3 h-3 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Auto Triggers:"}),e.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-0.5",children:[N&&"NONE"!==N&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["M1: ",N]})]}),p&&"NONE"!==p&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["M2: ",p]})]}),(!N||"NONE"===N)&&(!p||"NONE"===p)&&j.length>0&&e.jsx("div",{className:"space-y-0.5",children:j.map((t,s)=>e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-1 h-1 bg-blue-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t})]},s))}),(!N||"NONE"===N)&&(!p||"NONE"===p)&&0===j.length&&e.jsx("div",{className:"text-gray-500 dark:text-gray-400 italic",children:"No active triggers"})]})]})]})})]});var k},p=a.memo(({tankName:t,tankType:s,level:r,isActive:n,className:l=""})=>{const[d,o]=a.useState(0),[i,c]=a.useState(!1);a.useEffect(()=>{const e=setTimeout(()=>{o(r)},100);return()=>clearTimeout(e)},[r]);return n?e.jsxs("div",{className:`\n        bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700\n        p-6 transition-all duration-300 hover:shadow-xl hover:-translate-y-1\n        ${i?"ring-1 ring-blue-500/30":""}\n        ${l}\n      `,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:`w-5 h-5 ${m=s,"upper"===m?"text-blue-500":"text-purple-500"} transition-all duration-300 hover:scale-110 hover:rotate-12`}),i&&e.jsx("div",{className:"absolute -inset-1 bg-blue-500/20 rounded-full animate-ping"})]}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:[t," - ",(e=>"upper"===e?"Upper Tank":"Lower Tank")(s)]})]}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${x=r,x>=80?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":x>=50?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":x>=20?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"} flex items-center space-x-1`,children:[e.jsx("div",{className:"transition-all duration-300 hover:scale-110 hover:rotate-12",children:(t=>t>=80?e.jsx(h,{className:"w-4 h-4 text-green-500"}):t<=20?e.jsx(b,{className:"w-4 h-4 text-red-500"}):e.jsx(g,{className:"w-4 h-4 text-yellow-500"}))(r)}),e.jsx("span",{children:(e=>e>=80?"Optimal":e>=50?"Good":e>=20?"Low":"Critical")(r)})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Water Level"}),e.jsxs("span",{className:`\n            text-sm font-bold px-3 py-1 rounded-full transition-all duration-300\n            ${(e=>e>=80?"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-300":e>=50?"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-300":e>=20?"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-300":"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-300")(r)}\n          `,children:[r,"%"]})]}),e.jsxs("div",{className:"relative w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 rounded-full"}),e.jsx("div",{className:`\n              h-4 rounded-full transition-all duration-1000 ease-out relative overflow-hidden\n              ${(e=>e>=80?"bg-gradient-to-r from-green-400 to-green-600":e>=50?"bg-gradient-to-r from-yellow-400 to-yellow-600":e>=20?"bg-gradient-to-r from-orange-400 to-orange-600":"bg-gradient-to-r from-red-400 to-red-600")(r)}\n            `,style:{width:`${Math.min(100,Math.max(0,d))}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})}),e.jsx("div",{className:"absolute inset-0 flex justify-between items-center px-1",children:[0,25,50,75,100].map(t=>e.jsx("div",{className:"w-0.5 h-2 bg-white/50 rounded-full",style:{marginLeft:0===t||100===t?"0":"-1px"}},t))})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-1 transition-colors duration-300",children:[e.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 "+(r<=20?"bg-red-500 shadow-lg shadow-red-500/50":"bg-red-300")}),e.jsx("span",{className:r<=20?"font-medium":"",children:"Low"})]}),e.jsxs("div",{className:"flex items-center space-x-1 transition-colors duration-300",children:[e.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 "+(r>20&&r<=50?"bg-yellow-500 shadow-lg shadow-yellow-500/50":"bg-yellow-300")}),e.jsx("span",{className:r>20&&r<=50?"font-medium":"",children:"Medium"})]}),e.jsxs("div",{className:"flex items-center space-x-1 transition-colors duration-300",children:[e.jsx("div",{className:"w-3 h-3 rounded-full transition-all duration-300 "+(r>50?"bg-green-500 shadow-lg shadow-green-500/50":"bg-green-300")}),e.jsx("span",{className:r>50?"font-medium":"",children:"High"})]})]})]}):null;var x,m}),v=()=>{const t=r(),{appState:x,sendMessage:m,connect:u,disconnect:g,isConnected:h}=s(),{startDashboardSync:b,stopDashboardSync:v}=n();a.useEffect(()=>{},[x.tankData,x.systemSettings.sensors,x.systemStatus]);const[f,k]=a.useState(!1),[w,S]=a.useState(!1),[M,E]=a.useState(""),[T,C]=a.useState(!1),[O,A]=a.useState(()=>{const e=localStorage.getItem("dashboardSyncInterval");return e?parseInt(e,10):5e3}),$=a.useCallback(async()=>{h&&(k(!0),m({type:"getAllData"}),setTimeout(()=>{k(!1)},1e3))},[h,m]),D=a.useCallback(e=>{A(e),localStorage.setItem("dashboardSyncInterval",e.toString()),h&&b()},[h,b]),R=()=>{window.dispatchEvent(new CustomEvent("openConnectionModal"))};a.useEffect(()=>(h||v(),()=>{v()}),[h,v]),a.useEffect(()=>{const e=e=>{const t=e.detail.interval;D(t)};return window.addEventListener("syncIntervalChanged",e),()=>{window.removeEventListener("syncIntervalChanged",e)}},[D]),a.useEffect(()=>{const e=e=>{E(e.detail.status),C(""!==e.detail.status)};return window.addEventListener("reconnectionStatus",e),()=>{window.removeEventListener("reconnectionStatus",e)}},[]);const L=e=>{const t=1===e?x.systemStatus.motor1Status:x.systemStatus.motor2Status;m({type:!("ON"===t)?`motor${e}On`:`motor${e}Off`})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"WT"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Smart Water Tank"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:h?()=>{g()}:async()=>{const e=localStorage.getItem("tankHost");if(e){S(!0);try{await u(e)}catch(t){}finally{S(!1)}}else window.dispatchEvent(new CustomEvent("openConnectionModal"))},onMouseDown:e=>{if(!h&&!T){e.preventDefault();const t=setTimeout(()=>{R()},500),s=()=>{clearTimeout(t),document.removeEventListener("mouseup",s)};document.addEventListener("mouseup",s)}},disabled:w||T,className:`\n                    flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors font-medium text-sm\n                    focus:outline-none focus:ring-2 focus:ring-offset-2\n                    ${h?"bg-red-500 hover:bg-red-600 text-white focus:ring-red-500":T?"bg-orange-500 text-white focus:ring-orange-500":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"}\n                    ${w||T?"opacity-50 cursor-not-allowed":""}\n                  `,children:w?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Connecting..."})]}):T?e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-4 h-4 animate-pulse"}),e.jsx("span",{children:"Reconnecting..."})]}):h?e.jsxs(e.Fragment,{children:[e.jsx(i,{className:"w-4 h-4"}),e.jsx("span",{children:"Disconnect"})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:"Connect"})]})}),!h&&!w&&!T&&e.jsx("button",{onClick:R,className:"\n                      absolute -top-1 -right-1 w-5 h-5 bg-gray-600 hover:bg-gray-700\n                      text-white rounded-full flex items-center justify-center\n                      transition-colors text-xs\n                    ",title:"Connection Settings",children:e.jsx(o,{className:"w-3 h-3"})})]}),e.jsx(l,{}),e.jsx(d,{}),e.jsx("button",{onClick:()=>t("/settings"),className:"\n                  p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\n                  hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\n                ",title:"System Settings",children:e.jsx(c,{className:"w-5 h-5 transition-all duration-300 hover:scale-110 hover:rotate-12"})})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx(N,{connected:x.systemStatus.connected,lastUpdated:x.systemStatus.lastUpdated,runtime:x.systemStatus.runtime,motorStatus:"ON"===x.systemStatus.motorStatus?"ON":"OFF",motor1Status:x.systemStatus.motor1Status,motor2Status:x.systemStatus.motor2Status,motor1Enabled:x.systemStatus.motor1Enabled,motor2Enabled:x.systemStatus.motor2Enabled,motorConfig:x.systemStatus.motorConfig,mode:"Auto Mode"===x.systemStatus.mode?"auto":"manual",autoModeReasons:x.systemStatus.autoModeReasons?[x.systemStatus.autoModeReasons]:[],autoModeReasonMotor1:x.systemStatus.autoModeReasonMotor1,autoModeReasonMotor2:x.systemStatus.autoModeReasonMotor2})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Tank Monitoring"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Auto-sync:"}),e.jsxs("select",{value:O,onChange:e=>D(parseInt(e.target.value,10)),className:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:0,children:"Off"}),e.jsx("option",{value:2e3,children:"2s"}),e.jsx("option",{value:5e3,children:"5s"}),e.jsx("option",{value:1e4,children:"10s"}),e.jsx("option",{value:3e4,children:"30s"}),e.jsx("option",{value:6e4,children:"1m"})]})]}),e.jsxs("button",{onClick:$,disabled:!h||f,className:`\n                  px-3 py-1 rounded-md text-sm font-medium transition-colors flex items-center space-x-1\n                  ${h&&!f?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}\n                `,children:[e.jsx(j,{className:"w-4 h-4 "+(f?"animate-spin":"")}),e.jsx("span",{children:"Sync Now"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.systemSettings.sensors.upperTankA&&e.jsx(p,{tankName:"Tank A",tankType:"upper",level:x.tankData.tankA.upper,isActive:x.systemSettings.sensors.upperTankA}),x.systemSettings.sensors.lowerTankA&&e.jsx(p,{tankName:"Tank A",tankType:"lower",level:x.tankData.tankA.lower,isActive:x.systemSettings.sensors.lowerTankA}),x.systemSettings.sensors.upperTankB&&e.jsx(p,{tankName:"Tank B",tankType:"upper",level:x.tankData.tankB.upper,isActive:x.systemSettings.sensors.upperTankB}),x.systemSettings.sensors.lowerTankB&&e.jsx(p,{tankName:"Tank B",tankType:"lower",level:x.tankData.tankB.lower,isActive:x.systemSettings.sensors.lowerTankB})]}),!(x.systemSettings.sensors.upperTankA||x.systemSettings.sensors.lowerTankA||x.systemSettings.sensors.upperTankB||x.systemSettings.sensors.lowerTankB)&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 text-center",children:e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"No Tank Sensors Enabled"}),e.jsx("p",{className:"text-xs",children:"Enable tank sensors in Settings to monitor tank levels"})]})})]}),!1,"Auto Mode"===x.systemStatus.mode&&x.systemStatus.autoModeReasons&&"NONE"!==x.systemStatus.autoModeReasons&&e.jsx("div",{className:"mb-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:["Auto Mode Reason: ",x.systemStatus.autoModeReasons]})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Motor Control"}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:["Motor Configuration: ",x.systemStatus.motorConfig]}),e.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsxs("div",{children:["Motor 1: ",x.systemStatus.motor1Enabled?"Enabled":"Disabled"," - Status: ",x.systemStatus.motor1Status]}),e.jsxs("div",{children:["Motor 2: ",x.systemStatus.motor2Enabled?"Enabled":"Disabled"," - Status: ",x.systemStatus.motor2Status]})]})]}),"Manual Mode"===x.systemStatus.mode&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Manual Motor Control"}),x.systemStatus.motor1Enabled&&e.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Motor 1 Control"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Status: ",x.systemStatus.motor1Status]})]}),e.jsx("button",{onClick:()=>L(1),className:`\n                        px-4 py-2 rounded-lg font-medium transition-colors text-sm\n                        ${x.systemStatus.connected?"ON"===x.systemStatus.motor1Status?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}\n                      `,disabled:!x.systemStatus.connected,children:"ON"===x.systemStatus.motor1Status?"Turn OFF Motor 1":"Turn ON Motor 1"})]})}),x.systemStatus.motor2Enabled&&e.jsx("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Motor 2 Control"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Status: ",x.systemStatus.motor2Status]})]}),e.jsx("button",{onClick:()=>L(2),className:`\n                        px-4 py-2 rounded-lg font-medium transition-colors text-sm\n                        ${x.systemStatus.connected?"ON"===x.systemStatus.motor2Status?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}\n                      `,disabled:!x.systemStatus.connected,children:"ON"===x.systemStatus.motor2Status?"Turn OFF Motor 2":"Turn ON Motor 2"})]})})]}),"Auto Mode"===x.systemStatus.mode&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Auto Mode Active"})]}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mb-3",children:"Motors are automatically controlled based on tank levels and system settings."}),x.systemStatus.motor1Enabled&&e.jsx("div",{className:"mb-2",children:e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[e.jsx("strong",{children:"Motor 1:"})," ",x.systemStatus.motor1Status," - ",x.systemStatus.autoModeReasonMotor1]})}),x.systemStatus.motor2Enabled&&e.jsx("div",{className:"mb-2",children:e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[e.jsx("strong",{children:"Motor 2:"})," ",x.systemStatus.motor2Status," - ",x.systemStatus.autoModeReasonMotor2]})}),e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[e.jsx("strong",{children:"Overall Status:"})," ",x.systemStatus.motorStatus]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"System Mode"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Current operation mode"})]}),e.jsx("div",{className:`\n                  px-3 py-1 rounded-md text-sm font-medium\n                  ${"Auto Mode"===x.systemStatus.mode?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300"}\n                `,children:x.systemStatus.mode})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Auto Mode"===x.systemStatus.mode?"Automated control based on tank levels":"Manual control required"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Motor Status"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Current motor state"})]}),e.jsx("div",{className:`\n                  px-3 py-1 rounded-md text-sm font-medium\n                  ${"ON"===x.systemStatus.motorStatus?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}\n                `,children:x.systemStatus.motorStatus})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:x.systemStatus.connected?"Connected to ESP32":"Disconnected"})]})]})]}),x.error&&e.jsx("div",{className:"mt-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsxs("span",{className:"text-sm text-red-700 dark:text-red-300 font-medium",children:["Error: ",x.error]})]})}),f&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[e.jsx(j,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"Syncing data..."})]}),M&&e.jsxs("div",{className:"fixed bottom-4 left-4 bg-orange-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[e.jsx(y,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:M})]})]})]})};export{v as Dashboard};
